<html lang="en">
<head>
<title>Syntax - GNU Smalltalk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Smalltalk User's Guide">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Using-GNU-Smalltalk.html#Using-GNU-Smalltalk" title="Using GNU Smalltalk">
<link rel="prev" href="Operation.html#Operation" title="Operation">
<link rel="next" href="Test-suite.html#Test-suite" title="Test suite">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with no Front-Cover Texts,
     and with no Back-Cover Texts.  A copy of the license is included
     in the section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Syntax"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Test-suite.html#Test-suite">Test suite</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Operation.html#Operation">Operation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Using-GNU-Smalltalk.html#Using-GNU-Smalltalk">Using GNU Smalltalk</a>
<hr>
</div>

<h3 class="section">1.3 Syntax of <span class="sc">gnu</span> Smalltalk</h3>

<p>The language that <span class="sc">gnu</span> Smalltalk accepts is basically the same that other Smalltalk
environment accept and the same syntax used in the <dfn>Blue Book</dfn>, also
known as <cite>Smalltalk-80: The Language and Its Implementation</cite>. 
The return operator, which is represented in the Blue Book as an
up-arrow, is mapped to the ASCII caret symbol <code>^</code>; the assignment
operator (left-arrow) is usually represented as <code>:=</code><a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>.

   <p>Actually, the grammar of <span class="sc">gnu</span> Smalltalk is slightly different from the grammar
of other Smalltalk environments in order to simplify interaction with
the system in a command-line environment as well as in full-screen
editors.

   <p>Statements are executed one by one; multiple statements are separated by a
period.  At end-of-line, if a valid statement is complete, a period is
implicit.  For example,

<pre class="example">     8r300. 16rFFFF
</pre>
   <p class="noindent">prints out the decimal value of octal <code>300</code> and hex <code>FFFF</code>,
each followed by a newline.

   <p>Multiple statements share the same local variables, which are automatically
declared.  To delete the local variables, terminate a statement with
<code>!</code> rather than <code>.</code> or newline.  Here,

<pre class="example">     a := 42
     a!
     a
</pre>
   <p class="noindent">the first two <code>a</code>s are printed as <code>42</code>, but the third one
is uninitialized and thus printed as <code>nil</code>.

   <p>In order to evaluate multiple statements in a single block, wrap them into
an <dfn>eval block</dfn> as follows:
<pre class="example">     Eval [
         a := 42.  a printString
     ]
</pre>
   <p class="noindent">This won't print the intermediate result (the integer 42), only the final
result (the string <code>'42'</code>).

<pre class="example">     ObjectMemory quit
</pre>
   <p class="noindent">exits from the system.  You can also type a <kbd>C-d</kbd> to exit from
Smalltalk if it's reading statements from standard input.

   <p>GNU Smalltalk provides three extensions to the language that make it
simpler to write complete programs in an editor.  However, it is also
compatible with the <dfn>file out</dfn> syntax as shown in the <dfn>Green Book</dfn>
(also known as <cite>Smalltalk-80: Bits of History, Words of Advice</cite>
by Glenn Krasner).

   <p>A new class is created using this syntax:

<pre class="display">     <var>superclass-name</var> <tt>subclass:</tt> <var>new-class-name</var> <tt>[</tt>
     <tt>|</tt> <var>instance variables</var> <tt>|</tt>
     <var>pragmas</var>
     <var>message-pattern-1</var> <tt>[</tt> <var>statements</var> <tt>]</tt>
     <var>message-pattern-2</var> <tt>[</tt> <var>statements</var> <tt>]</tt>
     <small class="dots">...</small>
     <var>class-variable-1</var> <tt>:=</tt> <var>expression</var><tt>.</tt>
     <var>class-variable-2</var> <tt>:=</tt> <var>expression</var><tt>.</tt>
     <small class="dots">...</small>
     <tt>]</tt>
</pre>
   <p>In short:
     <ul>
<li>Instance variables are defined with the same syntax as method temporary
  variables.

     <li>Unlike other Smalltalks, method statements are inside brackets.

     <li>Class variables are defined the same as variable assignments.

     <li>Pragmas define class comment, class category, imported
  namespaces, and the shape of indexed instance variables.

     <pre class="example">          &lt;comment: 'Class comment'&gt;
          &lt;category: 'Examples-Intriguing'&gt;
          &lt;import: SystemExceptions&gt;
          &lt;shape: #pointer&gt;
     </pre>
     </ul>

   <p>A similar syntax is used to define new methods in an existing class.

<pre class="display">     <var>class-expression</var> <tt>extend</tt> <tt>[</tt>
     <small class="dots">...</small>
     <tt>]</tt>
</pre>
   <p>The <var>class-expression</var> is an expression that evaluates to a class
object, which is typically just the name of a class, although it can be
the name of a class followed by the word <code>class</code>, which causes the
method definitions that follow to apply to the named class itself,
rather than to its instances.

<pre class="example">     Number extend [
         radiusToArea [
             ^self squared * Float pi
         ]
         radiusToCircumference [
             ^self * 2 * Float pi
         ]
     ]
</pre>
   <p>A complete treatment of the Smalltalk syntax and of the class library
can be found in the included tutorial and class reference (see <a href="../gst-libs/index.html#Top">Class Reference</a>).

   <p>More information on the implementation of the language can be found in
the <cite>Blue Book</cite>; the relevant parts are also available online as
<span class="sc">html</span> documents, at
<a href="http://users.ipa.net/~dwighth/smalltalk/bluebook/bluebook_imp_toc.html">http://users.ipa.net/~dwighth/smalltalk/bluebook/bluebook_imp_toc.html</a>.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> It
  also bears mentioning that there are two assignment operators:
  <code>_</code> and <code>:=</code>.  Both are usable interchangeably, provided that
  they are surrounded by spaces.  The <span class="sc">gnu</span> Smalltalk kernel code uses the
  <code>:=</code> form exclusively, but <code>_</code> is supported a) for
  compatibility with previous versions of <span class="sc">gnu</span> Smalltalk b) because this is the
  correct mapping between the assignment operator mentioned in the Blue
  Book and the current ASCII definition.  In the ancient days (like the
  middle 70's), the ASCII underscore character was also printed as a
  back-arrow, and many terminals would display it that way, thus its
  current usage.  Anyway, using <code>_</code> may lead to portability problems.</p>

   <p><hr></div>

   </body></html>

