<html lang="en">
<head>
<title>Animals - GNU Smalltalk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Smalltalk User's Guide">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="The-hierarchy.html#The-hierarchy" title="The hierarchy">
<link rel="prev" href="Class-Object.html#Class-Object" title="Class Object">
<link rel="next" href="But-why.html#But-why" title="But why">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with no Front-Cover Texts,
     and with no Back-Cover Texts.  A copy of the license is included
     in the section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Animals"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="But-why.html#But-why">But why</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Class-Object.html#Class-Object">Class Object</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="The-hierarchy.html#The-hierarchy">The hierarchy</a>
<hr>
</div>

<h4 class="subsection">6.3.2 Animals</h4>

<p>Imagine that we have three kinds of objects, representing
<i>Animals</i>, <i>Parrots</i>, and <i>Pigs</i>.  Our messages will be
<i>eat</i>, <i>sing</i>, and <i>snort</i>.  Our first pass at
inserting these objects into the Smalltalk hierarchy would
organize them like:
<pre class="example">        <span class="roman">Object</span>
            <span class="roman">Animals</span>
            <span class="roman">Parrots</span>
            <span class="roman">Pigs</span>
</pre>
   <p>This means that Animals, Parrots, and Pigs are all direct
descendants of <i>Object</i>, and are not descendants of each
other.

   <p>Now we must define how each animal responds to each
kind of message.

<pre class="example">            <span class="roman">Animals</span>
                <span class="roman">eat --&gt; Say ``I have now eaten''</span>
                <span class="roman">sing --&gt; Error</span>
                <span class="roman">snort --&gt; Error</span>
            <span class="roman">Parrots</span>
                <span class="roman">eat --&gt; Say ``I have now eaten''</span>
                <span class="roman">sing --&gt; Say ``Tweet''</span>
                <span class="roman">snort --&gt; Error</span>
            <span class="roman">Pigs</span>
                <span class="roman">eat --&gt; Say ``I have now eaten"''</span>
                <span class="roman">sing --&gt; Error</span>
                <span class="roman">snort --&gt; Say ``Oink''</span>
</pre>
   <p>Notice how we kept having to indicate an action for <i>eat</i>. 
An experienced object designer would immediately recognize
this as a clue that we haven't set up our hierarchy correctly. 
Let's try a different organization:
<pre class="example">        <span class="roman">Object</span>
            <span class="roman">Animals</span>
                <span class="roman">Parrots</span>
                       <span class="roman">Pigs</span>
</pre>
   <p>That is, Parrots inherit from Animals, and Pigs from Parrots. 
Now Parrots inherit all of the actions from Animals,
and Pigs from both Parrots and Animals.  Because of this
inheritance, we may now define a new set of actions which
spares us the redundancy of the previous set:
<pre class="example">            <span class="roman">Animals</span>
                <span class="roman">eat --&gt; Say ``I have now eaten''</span>
                <span class="roman">sing --&gt; Error</span>
                <span class="roman">snort --&gt; Error</span>
            <span class="roman">Parrots</span>
                <span class="roman">sing --&gt; Say ``Tweet''</span>
            <span class="roman">Pigs</span>
                <span class="roman">snort --&gt; Say ``Oink''</span>
</pre>
   <p>Because Parrots and Pigs both inherit from Animals, we have
only had to define the <i>eat</i> action once.  However, we have
made one mistake in our class setup&mdash;what happens when we
tell a Pig to <i>sing</i>?  It says &ldquo;Tweet&rdquo;, because we have put
Pigs as an inheritor of Parrots.  Let's try one final
organization:
<pre class="example">        <span class="roman">Object</span>
            <span class="roman">Animals</span>
                <span class="roman">Parrots</span>
                <span class="roman">Pigs</span>
</pre>
   <p>Now Parrots and Pigs inherit from Animals, but not from each
other.  Let's also define one final pithy set of actions:
<pre class="example">            <span class="roman">Animals</span>
                <span class="roman">eat --&gt; Say ``I have eaten''</span>
            <span class="roman">Parrots</span>
                <span class="roman">sing --&gt; Say ``Tweet''</span>
            <span class="roman">Pigs</span>
                <span class="roman">snort --&gt; Say ``Oink''</span>
</pre>
   <p>The change is just to leave out messages which are inappropriate. 
If Smalltalk detects that a message is not known by
an object or any of its ancestors, it will automatically
give an error&mdash;so you don't have to do this sort of thing
yourself.  Notice that now sending <i>sing</i> to a Pig does
indeed not say &ldquo;Tweet&rdquo;&mdash;it will cause a Smalltalk error
instead.

   </body></html>

