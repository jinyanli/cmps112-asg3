<html lang="en">
<head>
<title>Writing checks - GNU Smalltalk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Smalltalk User's Guide">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Creating-subclasses.html#Creating-subclasses" title="Creating subclasses">
<link rel="prev" href="The-Checking-class.html#The-Checking-class" title="The Checking class">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with no Front-Cover Texts,
     and with no Back-Cover Texts.  A copy of the license is included
     in the section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Writing-checks"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="The-Checking-class.html#The-Checking-class">The Checking class</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Creating-subclasses.html#Creating-subclasses">Creating subclasses</a>
<hr>
</div>

<h4 class="subsection">6.5.3 Writing checks</h4>

<p>We will finish this chapter by adding a method for
spending money through our checkbook.  The mechanics of taking
a message and updating variables should be familiar:
<pre class="example">        newChecks: number count: checkcount [
            &lt;category: 'spending'&gt;
            checknum := number.
            checksleft := checkcount
        ]
     
        writeCheck: amount [
            &lt;category: 'spending'&gt;
            | num |
            num := checknum.
            checknum := checknum + 1.
            checksleft := checksleft - 1.
            self spend: amount.
            ^ num
        ]
     ]
</pre>
   <p><code>newChecks:</code> fills our checkbook with checks.  We record
what check number we're starting with, and update the count
of the number of checks in the checkbook.

   <p><code>writeCheck:</code> merely notes the next check number, then
bumps up the check number, and down the check count.  The
message <code>self spend: amount</code> resends the message
<code>spend:</code> to our own object.  This causes its method to be looked
up by Smalltalk.  The method is then found in our parent class,
Account, and our balance is then updated to reflect our
spending.

   <p>You can try the following examples:
<pre class="example">        c := Checking new
        c deposit: 250
        c newChecks: 100 count: 50
        c writeCheck: 32
        c
</pre>
   <p>For amusement, you might want to add a printOn: message to
the checking class so you can see the checking-specific
information.

   <p>In this chapter, you have seen how to create subclasses
of your own classes.  You have added new methods, and inherited
methods from the parent classes.  These techniques provide
the majority of the structure for building solutions to
problems.  In the following chapters we will be filling in
details on further language mechanisms and types, and providing
details on how to debug software written in Smalltalk.

   </body></html>

