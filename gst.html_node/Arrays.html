<html lang="en">
<head>
<title>Arrays - GNU Smalltalk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Smalltalk User's Guide">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Some-classes.html#Some-classes" title="Some classes">
<link rel="next" href="Sets.html#Sets" title="Sets">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with no Front-Cover Texts,
     and with no Back-Cover Texts.  A copy of the license is included
     in the section entitled ``GNU Free Documentation License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Arrays"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Sets.html#Sets">Sets</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Some-classes.html#Some-classes">Some classes</a>
<hr>
</div>

<h4 class="subsection">6.2.1 An array in Smalltalk</h4>

<p>An array in Smalltalk is similar to an array in any
other language, although the syntax may seem peculiar at
first.  To create an array with room for 20 elements, do<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>:
<pre class="example">        x := Array new: 20
</pre>
   <p>The <code>Array new: 20</code> creates the array; the <code>x :=</code> part
connects the name <code>x</code> with the object.  Until you assign
something else to <code>x</code>, you can refer to this array by the name
<code>x</code>.  Changing elements of the array is not done using the
<code>:=</code> operator; this operator is used only to bind names to
objects.  In fact, you never modify data structures;
instead, you send a message to the object, and it will modify itself.

   <p>For instance:
<pre class="example">        x at: 1
</pre>
   <p class="noindent">which prints:
<pre class="example">        nil
</pre>
   <p>The slots of an array are initially set to &ldquo;nothing&rdquo; (which
Smalltalk calls <code>nil</code>).  Let's set the first slot to the
number 99:
<pre class="example">        x at: 1 put: 99
</pre>
   <p class="noindent">and now make sure the 99 is actually there:
<pre class="example">        x at: 1
</pre>
   <p class="noindent">which then prints out:
<pre class="example">        99
</pre>
   <p>These examples show how to manipulate an array.  They also
show the standard way in which messages are passed arguments
ments.  In most cases, if a message takes an argument, its
name will end with `:'.<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>

   <p>So when we said <code>x at: 1</code> we were sending a message to whatever
object was currently bound to <code>x</code> with an argument of 1.  For an
array, this results in the first slot of the array being returned.

   <p>The second operation, <code>x at: 1 put: 99</code> is a message
with two arguments.  It tells the array to place the second
argument (99) in the slot specified by the first (1).  Thus,
when we re-examine the first slot, it does indeed now
contain 99.

   <p>There is a shorthand for describing the messages you
send to objects.  You just run the message names together. 
So we would say that our array accepts both the <code>at:</code> and
<code>at:put:</code> messages.

   <p>There is quite a bit of sanity checking built into an
array.  The request
<pre class="example">        6 at: 1
</pre>
   <p class="noindent">fails with an error; 6 is an integer, and can't be indexed.  Further,
<pre class="example">        x at: 21
</pre>
   <p class="noindent">fails with an error, because the array we created only has
room for 20 objects.

   <p>Finally, note that the object stored
in an array is just like any other object, so we can do
things like:
<pre class="example">        (x at: 1) + 1
</pre>
   <p class="noindent">which (assuming you've been typing in the examples) will
print 100.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> 
    <span class="sc">gnu</span> Smalltalk supports completion in the same way as Bash or <span class="sc">gdb</span>. 
    To enter the following line, you can for example type
    `<samp><span class="samp">x := Arr</span><kbd>&lt;TAB&gt;</kbd><span class="samp"> new: 20</span></samp>'.  This can come in handy
    when you have to type long names such as <code>IdentityDictionary</code>,
    which becomes `<samp><span class="samp">Ide</span><kbd>&lt;TAB&gt;</kbd><span class="samp">D</span><kbd>&lt;TAB&gt;</kbd></samp>'.  Everything
    starting with a capital letter or ending with a colon can
    be completed.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> Alert readers will remember that the math
examples of the previous chapter deviated from this.</p>

   <p><hr></div>

   </body></html>

